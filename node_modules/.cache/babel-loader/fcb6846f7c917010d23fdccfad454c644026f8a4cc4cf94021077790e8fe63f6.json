{"ast":null,"code":"import axios from'axios';const HF_API_URL='https://api.aimlapi.com/v1';// Correct base URL\nconst HF_API_TOKEN='0f5d83585a2f43ca8590acf3ff3b3802';// Replace with your API key\n// Function to fetch recipe suggestions\nexport const fetchRecipe=async ingredients=>{try{var _response$data$choice;const systemPrompt=\"You are a skilled chef. Generate a recipe based on the ingredients provided.\";const userPrompt=\"Create a recipe using the following ingredients: \".concat(ingredients);const response=await axios.post(\"\".concat(HF_API_URL,\"/chat/completions\"),// Correct endpoint\n{model:\"mistralai/Mistral-7B-Instruct-v0.2\",// Model from example, change to your preferred model\nmessages:[{role:\"system\",content:systemPrompt},{role:\"user\",content:userPrompt}],temperature:0.7,max_tokens:256},{headers:{Authorization:\"Bearer \".concat(HF_API_TOKEN)}});const recipe=((_response$data$choice=response.data.choices[0])===null||_response$data$choice===void 0?void 0:_response$data$choice.message.content)||'No recipe found.';return recipe;}catch(error){console.error('Error fetching recipe:',error);throw new Error('Failed to fetch recipe. Please try again.');}};export default fetchRecipe;","map":{"version":3,"names":["axios","HF_API_URL","HF_API_TOKEN","fetchRecipe","ingredients","_response$data$choice","systemPrompt","userPrompt","concat","response","post","model","messages","role","content","temperature","max_tokens","headers","Authorization","recipe","data","choices","message","error","console","Error"],"sources":["/home/maxwell/dePartie/src/services/ai.js"],"sourcesContent":["import axios from 'axios';\n\nconst HF_API_URL = 'https://api.aimlapi.com/v1'; // Correct base URL\nconst HF_API_TOKEN = '0f5d83585a2f43ca8590acf3ff3b3802'; // Replace with your API key\n\n// Function to fetch recipe suggestions\nexport const fetchRecipe = async (ingredients) => {\n  try {\n    const systemPrompt = \"You are a skilled chef. Generate a recipe based on the ingredients provided.\";\n    const userPrompt = `Create a recipe using the following ingredients: ${ingredients}`;\n\n    const response = await axios.post(\n      `${HF_API_URL}/chat/completions`, // Correct endpoint\n      {\n        model: \"mistralai/Mistral-7B-Instruct-v0.2\", // Model from example, change to your preferred model\n        messages: [\n          { role: \"system\", content: systemPrompt },\n          { role: \"user\", content: userPrompt },\n        ],\n        temperature: 0.7,\n        max_tokens: 256,\n      },\n      {\n        headers: {\n          Authorization: `Bearer ${HF_API_TOKEN}`,\n        },\n      }\n    );\n\n    const recipe = response.data.choices[0]?.message.content || 'No recipe found.';\n    return recipe;\n  } catch (error) {\n    console.error('Error fetching recipe:', error);\n    throw new Error('Failed to fetch recipe. Please try again.');\n  }\n};\n\nexport default fetchRecipe;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,UAAU,CAAG,4BAA4B,CAAE;AACjD,KAAM,CAAAC,YAAY,CAAG,kCAAkC,CAAE;AAEzD;AACA,MAAO,MAAM,CAAAC,WAAW,CAAG,KAAO,CAAAC,WAAW,EAAK,CAChD,GAAI,KAAAC,qBAAA,CACF,KAAM,CAAAC,YAAY,CAAG,8EAA8E,CACnG,KAAM,CAAAC,UAAU,qDAAAC,MAAA,CAAuDJ,WAAW,CAAE,CAEpF,KAAM,CAAAK,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,IAAI,IAAAF,MAAA,CAC5BP,UAAU,sBAAqB;AAClC,CACEU,KAAK,CAAE,oCAAoC,CAAE;AAC7CC,QAAQ,CAAE,CACR,CAAEC,IAAI,CAAE,QAAQ,CAAEC,OAAO,CAAER,YAAa,CAAC,CACzC,CAAEO,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAEP,UAAW,CAAC,CACtC,CACDQ,WAAW,CAAE,GAAG,CAChBC,UAAU,CAAE,GACd,CAAC,CACD,CACEC,OAAO,CAAE,CACPC,aAAa,WAAAV,MAAA,CAAYN,YAAY,CACvC,CACF,CACF,CAAC,CAED,KAAM,CAAAiB,MAAM,CAAG,EAAAd,qBAAA,CAAAI,QAAQ,CAACW,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,UAAAhB,qBAAA,iBAAxBA,qBAAA,CAA0BiB,OAAO,CAACR,OAAO,GAAI,kBAAkB,CAC9E,MAAO,CAAAK,MAAM,CACf,CAAE,MAAOI,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAC9C,KAAM,IAAI,CAAAE,KAAK,CAAC,2CAA2C,CAAC,CAC9D,CACF,CAAC,CAED,cAAe,CAAAtB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}